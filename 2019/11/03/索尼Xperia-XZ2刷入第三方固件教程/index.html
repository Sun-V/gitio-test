<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-site-verification" content="YqIYGKZUeDLKHcV1qo7lY0jNq3B4kYSL9CIur9RJJl0" />    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="日常摸鱼">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        索尼Xperia XZ2刷入第三方固件教程 - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 富强    民主    文明    和谐    自由    平等    公正    法治    爱国    敬业    诚信    友善 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/favicon.ico" />
        </div>
        <div class="name">
            <i>SunV</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E8%A7%A3%E9%94%81"><span class="toc-text">1. 解锁</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E8%8E%B7%E5%8F%96%E8%A7%A3%E9%94%81%E7%A0%81"><span class="toc-text">1.1. 获取解锁码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8"><span class="toc-text">1.2. 安装驱动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E5%BC%BA%E5%88%B7%E9%9D%9E%E5%A4%A7%E9%99%86%E7%89%88%E5%9B%BA%E4%BB%B6"><span class="toc-text">1.3. 强刷非大陆版固件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-OEM%E8%A7%A3%E9%94%81"><span class="toc-text">1.4. OEM解锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E4%BD%BF%E7%94%A8%E8%A7%A3%E9%94%81%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%A7%A3%E9%94%81"><span class="toc-text">1.5. 使用解锁码进行解锁</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E7%BA%BF%E5%88%B7%E5%BA%95%E5%8C%85%E5%92%8C%E5%8D%A1%E5%88%B7%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BA%E4%BB%B6"><span class="toc-text">2. 线刷底包和卡刷第三方固件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E7%BA%BF%E5%88%B7%E5%BA%95%E5%8C%85%E5%9B%BA%E4%BB%B6"><span class="toc-text">2.1. 线刷底包固件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%88%B7%E5%85%A5Recovery"><span class="toc-text">2.2. 刷入Recovery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%8D%A1%E5%88%B7%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BA%E4%BB%B6"><span class="toc-text">2.3. 卡刷第三方固件</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 富强    民主    文明    和谐    自由    平等    公正    法治    爱国    敬业    诚信    友善 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        索尼Xperia XZ2刷入第三方固件教程
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-11-03 09:20:37</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#Android" title="Android">Android</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>建议进行以下操作前对手机内重要数据进行备份，退出SIM卡和消除Google帐号。以下操作中，解锁环境为Android P和Windows 10（<del>windows10 2004可能会在蓝灯模式出现问题</del>），使用第三方固件为<a target="_blank" rel="noopener" href="http://bbs.gfan.com/android-9619914-1-1.html">machao44的v2.1</a>，与之对应，使用底包为<a target="_blank" rel="noopener" href="http://bbs.gfan.com/android-9619774-1-1.html">CN_52.0.A.11.3</a>。</p>
<h1 id="1-解锁"><a href="#1-解锁" class="headerlink" title="1. 解锁"></a>1. 解锁</h1><p>索尼Xperia如果要使用非官方固件，需要先进行解锁。</p>
<h2 id="1-1-获取解锁码"><a href="#1-1-获取解锁码" class="headerlink" title="1.1. 获取解锁码"></a>1.1. 获取解锁码</h2><p>进入<a target="_blank" rel="noopener" href="https://developer.sony.com/develop/open-devices/get-started/unlock-bootloader/">Xperia解锁页面</a>（需要翻墙操作），在页面最下方选择机型，填入IMEI号，选中前两个选项提交，即可获得解锁码。（无法操作的朋友可进入<a target="_blank" rel="noopener" href="http://bbs.gfan.com/android-9626077-1-1.html">论坛此帖</a>留言或在本帖下方评论处留下机型和imei）</p>
<p><img src="/img/unlock.jpg" alt="解锁界面"></p>
<h2 id="1-2-安装驱动"><a href="#1-2-安装驱动" class="headerlink" title="1.2. 安装驱动"></a>1.2. 安装驱动</h2><p>安装驱动可使用Flashtool工具和newflasher工具进行，此处使用后者。（Windows 10 2004之后的几个版本按下面步骤应该走不通，需要<a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/29697b910f8f59ab20de3c9e.html">禁用驱动签名验证</a>，然后安装<a target="_blank" rel="noopener" href="https://sunv.lanzoui.com/iuVuNkonada">flashtool-drivers</a>的前两个驱动：flashmode drivers和fastboot drivers）</p>
<p>下载<a target="_blank" rel="noopener" href="https://forum.xda-developers.com/crossdevice-dev/sony/progress-newflasher-xperia-command-line-t3619426">newflasher工具</a> <a target="_blank" rel="noopener" href="https://sunv.lanzoui.com/iMirsjw952h">（给出newflasher v13版本）</a>，解压缩后运行newflasher.exe，输入y回车后得到GordonGate.7z。解压缩此文件，右键安装ggsomc.inf。再下载并解压缩<a target="_blank" rel="noopener" href="https://developer.sony.com/develop/drivers/">对应机型的驱动文件</a>，右键安装sa118adb.inf文件。</p>
<p>在电脑上打开设备管理器，手机关机，按住音量降低键同时USB接入电脑，手机指示灯为绿色可松开音量键，此时进入绿灯模式（Flashmode）。注意设备管理器中新添加的SOMC Flash Device，如果有黄色叹号，右键选择“更新驱动程序”-“浏览我的计算机以查找驱动程序软件”-“让我从计算机上的可用驱动程序列表中选取”，选择“SOMC Flash Device”。再断开数据线，按住音量增加键同时连接数据线，手机指示灯为蓝色时松开，此时进入蓝灯模式(Fastboot)。和上面步骤类似，对应新添加的是“Sony sa0118 ADB Interface Drive”，有黄色叹号需要在驱动列表中找到”Sonysa0118”安装。（非Windows10操作环境出现不一致的显示情况可通过搜索引擎解决，或更换为Windows 10操作环境）</p>
<h2 id="1-3-强刷非大陆版固件"><a href="#1-3-强刷非大陆版固件" class="headerlink" title="1.3. 强刷非大陆版固件"></a>1.3. 强刷非大陆版固件</h2><p>此步骤应用于国行固件，若此时手机固件已经是非国行版本（港版，印度版等等）了，可跳过此步骤。</p>
<p>① 使用XperiFirm或在论坛下载一非国行固件，将固件解压。</p>
<p>② 将boot文件夹中文件后缀.sinb的改为.sin，将.tab的改为.ta。</p>
<p>③ 将根目录下的boot_delivery.xml移动至boot文件夹内。</p>
<p>④ 将1.2.中newflasher文件夹中的七个newflasher文件复制到固件文件夹中。</p>
<p>⑤ 检查是否有simlock.ta和fwinfo.xml文件，若有，删掉。</p>
<p>⑥ 将partition.zip解压。</p>
<p>⑦ 按住音量降低键进入绿灯模式,管理员模式运行newflasher.exe，输入两次n并回车，出现“请按任意键继续”说明刷入完成。</p>
<h2 id="1-4-OEM解锁"><a href="#1-4-OEM解锁" class="headerlink" title="1.4. OEM解锁"></a>1.4. OEM解锁</h2><p>点击设置-系统-关于手机-版本号多次，直到出现开发者模式。在系统-开发者选项中打开OEM解锁。</p>
<h2 id="1-5-使用解锁码进行解锁"><a href="#1-5-使用解锁码进行解锁" class="headerlink" title="1.5. 使用解锁码进行解锁"></a>1.5. 使用解锁码进行解锁</h2><p>下载platform-tools（<a target="_blank" rel="noopener" href="https://dl.google.com/android/repository/platform-tools_r25-windows.zip">[r25]</a> <a target="_blank" rel="noopener" href="https://sunv.lanzoui.com/igJLQeris8f">[r28]</a>如果使用r25遇到未识别的命令等问题，可以选择r28）并解压缩，打开windows命令处理程序（win10下右击win图标选择命令提示符，或者win+R，输入cmd回车），cd到adb.exe所在目录下（更方便的方式是文件资源管理器中打开目录，然后在地址栏直接输入cmd回车），如下图。</p>
<p><img src="/img/cdadb.jpg" alt="命令处理程序"></p>
<p>进入蓝灯模式，输入</p>
<p><code>fastboot devices</code></p>
<p>回车，再输入</p>
<p><code>fastboot oem unlock 0x此处为解锁码</code></p>
<p>即可解锁。</p>
<h1 id="2-线刷底包和卡刷第三方固件"><a href="#2-线刷底包和卡刷第三方固件" class="headerlink" title="2. 线刷底包和卡刷第三方固件"></a>2. 线刷底包和卡刷第三方固件</h1><h2 id="2-1-线刷底包固件"><a href="#2-1-线刷底包固件" class="headerlink" title="2.1. 线刷底包固件"></a>2.1. 线刷底包固件</h2><p>底包是第三方作者进行增强操作的基础包，如下图中的第三方固件是基于官方的52.0.A.11.3进行修改的。</p>
<p><img src="/img/%E5%BA%95%E5%8C%85.jpg" alt="底包说明"></p>
<p>线刷底包固件操作同1.3.，刷完不要开机。</p>
<h2 id="2-2-刷入Recovery"><a href="#2-2-刷入Recovery" class="headerlink" title="2.2. 刷入Recovery"></a>2.2. 刷入Recovery</h2><p>此步骤和<a target="_blank" rel="noopener" href="http://bbs.gfan.com/forum.php?mod=viewthread&tid=9513429&extra=page=1&filter=typeid&typeid=12976&typeid=12976">机锋论坛中的root教程</a>一致，且所需工具亦来源于同一帖。</p>
<p>① 下载帖子中的隐藏资源，将其中的XZ2-2C-root.zip解压。进入其中的adb文件夹，打开windows命令处理程序，cd到此目录下（参考1.5.）。</p>
<p>② 进入蓝灯模式（音量增加键连接电脑），输入下面的命令并回车</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash boot twrp-xz2.img</span><br><span class="line">fastboot --disable-verity --disable-verification flash vbmeta vbmeta.img</span><br></pre></td></tr></table></figure>

<p>③ 断开数据线，同时按住音量降低键和电源键，会进入TWRP Recovery，点击挂载，启用MTP模式。点击home键可返回到初始界面。（<del>下面几步主要是对底包进行root，故可以直接跳过，进行2.3.</del> 保险起见，还是全刷了吧）</p>
<p>④ 将底包文件夹中的以boot_X开头的sin文件用鼠标拖动到XZ2-2C-root文件夹下的UnSIN.exe文件上，会在底包文件夹中出现同名的img文件，将其改名为kernel.img并移动到XZ2-2C-root下的boot文件夹内，压缩boot文件夹为boot.zip。</p>
<p><img src="/img/UnSIN.jpg" alt="UnSIN"></p>
<p>注意，boot.zip打开如下图所示，一个文件夹和一个文件。</p>
<p><img src="/img/boot.jpg" alt="boot"></p>
<p>⑤ 将boot.zip，对应底包版本文件夹内的twrp-installer-xz2-2c-3.2.3.zip（不对应版本会使twrp无法触控），Magisk-v17.2.zip，fstab.zip复制到手机存储，依次使用twrp安装刷入。</p>
<p>⑥ 开机，正常进入之后关机再次进入twrp，将permissive.zip复制到手机存储，刷入。开机。</p>
<h2 id="2-3-卡刷第三方固件"><a href="#2-3-卡刷第三方固件" class="headerlink" title="2.3. 卡刷第三方固件"></a>2.3. 卡刷第三方固件</h2><p>① 将下载好的XPERIA_PIE_XZ2_2.1.zip、1-Magisk.zip和2-Permissive.zip以及其他需要使用的卡刷包复制到手机存储或外置SD卡。</p>
<p>② 关机进入twrp，点击清除，滑动下方按钮完成双清。</p>
<p>③ 点击安装，选择XPERIA_PIE_XZ2_2.1.zip开始刷入。</p>
<p>④ 再依次刷入1-Magisk.zip和2-Permissive.zip。</p>
<p>⑤ 看论坛评论此版本谷歌框架的使用有问题，因此再刷入delete google.zip。</p>
<p>⑥ 平时使用谷歌套件可去<a target="_blank" rel="noopener" href="https://opengapps.org/">OpenGAPPS</a>下载对应卡刷包刷入。Platform选择ARM64，Android选择9.0，Variant可按需选择（各选项的差别可参考<a target="_blank" rel="noopener" href="https://www.zybuluo.com/wddzzz/note/733197#%E4%B8%80opengapps-app%E6%99%BA%E8%83%BD%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85-%E6%8E%A8%E8%8D%90">这里</a>）。注意不要在此Rec下使用aroma，亲测无法弹出自定义图形界面。</p>
<p>⑦ 开机。</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/Sun-V">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script type="text/javascript">
       (function() {
           if (typeof LivereTower === 'function') { return; }

           var j, d = document.getElementById('lv-container');

           d.setAttribute('data-id','city');
           d.setAttribute('data-uid' , 'MTAyMC80ODA3OS8yNDU3Ng==');

           j = document.createElement('script');
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;

           d.appendChild(j);
       })();
    </script>
    <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>

</html>
